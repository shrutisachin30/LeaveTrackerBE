<html lang="en" class="main">
<div>
<body class="jumbotron">

  <mat-toolbar color="primary" class="size">

    <img class="imagenav" src="./assets/logo.png">
    <span class="spacer">Leave Tracker</span>

  </mat-toolbar>

  <router-outlet></router-outlet>
</body>

<mat-card class="card">
  <mat-card-header>
    <img class="image" src="./assets/signup.png">
  </mat-card-header>

  <mat-card-content>
    <form class="example-form">

      <mat-form-field class="field" appearance="fill">
        <mat-label>Das ID</mat-label>
        <input matInput minlength="7" maxlength="7" name="dasId" pattern="[A0-9]{7}$" [(ngModel)]="user.dasId" #dasId="ngModel" required>
        
        <mat-error>
          <div *ngIf="dasId.invalid && (dasId.dirty || dasId.touched)" class="alert">

              <div *ngIf="dasId.errors?.required">
                DAS ID is required.
              </div>
              <div *ngIf="!isValid">
                DAS ID must start with 'A'.
              </div>
              <div *ngIf="dasId.errors?.minlength">
                DAS ID must be at least 7 characters long.
              </div>
          </div>
      </mat-error>
      </mat-form-field>

      <mat-form-field class="field" appearance="fill">
        <mat-label>Employee ID</mat-label>
        <input pattern="[0-9]{7}" minlength="7" maxlength="7" matInput name="employeeId" [(ngModel)]="user.employeeId" #employeeId="ngModel"  required>
          <mat-error>
            <div *ngIf="employeeId.invalid && (employeeId.dirty || employeeId.touched)" class="alert">

                <div *ngIf="employeeId.errors?.required">
                  Employee ID is required.
                </div>
                <div *ngIf="employeeId.errors?.minlength">
                  EMployee ID must be at least 7 characters long.
                </div>
            </div>
        </mat-error>
      </mat-form-field>


      <mat-form-field class="field" appearance="fill">
        <mat-label>Name</mat-label>
        <input matInput name="name" [(ngModel)]="user.name" #name="ngModel" required>
          
        <mat-error>
            <div *ngIf="name.invalid && (name.dirty || name.touched)" class="alert">

                <div *ngIf="name.errors?.required">
                  Name is required.
                </div>

            </div>
          </mat-error>    
      </mat-form-field>

      <mat-form-field class="field" appearance="fill">
        <mat-label>GCM Level</mat-label>
        <input matInput pattern="[0-9]{1}" minlength="1" maxlength="1" name="gcmLevel" [(ngModel)]="user.gcmLevel" #gcmLevel="ngModel"  required>
        <mat-error>
          <div *ngIf="gcmLevel.invalid && (gcmLevel.dirty || gcmLevel.touched)" class="alert">

              <div *ngIf="gcmLevel.errors?.required">
                GCM Level is required.
              </div>
          </div>
      </mat-error>
      </mat-form-field>

      <mat-form-field class="field" appearance="fill">
        <mat-label>Contact No</mat-label>
        <input matInput pattern="[0-9]{10}" minlength="10" maxlength="10" name="mobile" [(ngModel)]="user.mobile" #mobile="ngModel" required>
          <mat-error>
            <div *ngIf="mobile.invalid && (mobile.dirty || mobile.touched)" class="alert">

                <div *ngIf="mobile.errors?.required">
                  Mobile no. is required.
                </div>

            </div>
        </mat-error>
      </mat-form-field>

      <mat-form-field class="field" appearance="fill">
        <mat-label>Email ID</mat-label>
        <input matInput name="email" pattern="^[a-z0-9._%+-]+@atos.net" type="email" [(ngModel)]="user.emailId" #email="ngModel" required>
          <mat-error>
            <div *ngIf="email.invalid && (email.dirty || email.touched)" class="alert">

                <div *ngIf="email.errors?.required">
                  Email is required.
                </div>

                <div *ngIf="email.errors?.pattern">
                  Please enter valid email Id
                </div>
            </div>
          </mat-error>
      </mat-form-field>

      <mat-form-field class="field" appearance="fill">
        <mat-label>Password</mat-label>
        <input matInput type="password" pattern="^[a-zA-Z0-9!@#\$%\^\&*_=+-]{8,10}$" minlength="8" maxlength="10" 
        name="password" [(ngModel)]="user.Password" #password="ngModel" required>
        <mat-error>
        <div *ngIf="password.invalid && (password.dirty || password.touched)" class="alert">

            <div *ngIf="password.errors?.required">
              Password is required.
            </div>

            <div *ngIf="password.errors?.pattern">
              Password must contain at least 1 Uppercase,
              At least 1 Lowercase,
              At least 1 Number,
              At least 1 special character, Min 8 characters and Max 10 characters
            </div>
          
          </div>
        </mat-error>

      </mat-form-field>

      <mat-form-field class="field" appearance="fill">
        <mat-label>Confirm Password</mat-label>
        <input matInput type="password" minlength="8" maxlength="10" name="cpassword" [(ngModel)]="user.cPassword" #cpassword="ngModel" 
        required>

        <mat-error>
          <div *ngIf="cpassword.invalid && (cpassword.dirty || cpassword.touched)" class="alert">
  
              <div *ngIf="cpassword.errors?.required">
                Confirm Password is required.
              </div>

            </div>
          </mat-error>

      </mat-form-field>

      <mat-form-field class="field" appearance="fill">
        <mat-label>Reporting Manager</mat-label>
        <input matInput name="reportingManager" [(ngModel)]="user.reportingManager" #reportingManager="ngModel" required>
        <mat-error>
          <div *ngIf="reportingManager.invalid && (reportingManager.dirty || reportingManager.touched)" class="alert">

              <div *ngIf="reportingManager.errors?.required">
                Reporting Manager's Name is required.
              </div>

          </div>
        </mat-error> 
      </mat-form-field>

      <mat-form-field class="field" appearance="fill">
        <mat-label>Project Name</mat-label>
        <input matInput name="projectName" [(ngModel)]="user.projectName" #projectName="ngModel" required>
        <mat-error>
          <div *ngIf="projectName.invalid && (projectName.dirty || projectName.touched)" class="alert">

              <div *ngIf="projectName.errors?.required">
                Project Name is required.
              </div>

          </div>
        </mat-error>
      </mat-form-field>


      <!-- <mat-form-field class="field" appearance="fill">
        <mat-label>Domain</mat-label>
        <input matInput name="domain" [(ngModel)]="user.domain" #domain="ngModel" required> 
        <mat-error>
            <div *ngIf="domain.invalid && (domain.dirty || domain.touched)" class="alert">
                <div *ngIf="domain.errors?.required">
                  Domain is required.
                </div>
            </div>
          </mat-error>    
      </mat-form-field> -->
      <mat-form-field class="field" appearance="fill">
        <mat-label>Domain Type</mat-label>
        <mat-select name="typeOfDomain" [(ngModel)]="user.typeOfDomain" required>
            <mat-option *ngFor="let domain of typeOfDomain " [value]="domain.value">
                {{domain.viewValue}}
            </mat-option>
        </mat-select>
      </mat-form-field>

      <mat-form-field class="field" appearance="fill">
        <mat-label>Job Role</mat-label>
        <input matInput name="jobRole" [(ngModel)]="user.jobRole" #jobRole="ngModel" required>
        <mat-error>
          <div *ngIf="jobRole.invalid && (jobRole.dirty || jobRole.touched)" class="alert">

              <div *ngIf="jobRole.errors?.required">
                Job Role is required.
              </div>

          </div>
        </mat-error>
      </mat-form-field>



    </form>

    <mat-card-actions>
      <button class="button" style="margin-left: 558px;" color="primary" (click)="registration()"
        mat-raised-button>Submit</button>

    </mat-card-actions>
    <mat-divider [inset]="true"></mat-divider><br><br>
    <mat-label class="acc">Already have an Account?</mat-label>
    <a class="color" routerLink="/signin"> Sign in </a>
  <br><br>

  </mat-card-content>

</mat-card>

<mat-spinner [diameter]="100" class="loader" *ngIf="showSpinner" color="accent"></mat-spinner>

</div>

</html>
